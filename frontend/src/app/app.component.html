<div class="app-container">

  <div class="sidebar" [class.sidebar-open]="showAdmin">
    <div class="sidebar-header">
      <h2>üõ°Ô∏è FLEET COMMAND</h2>
      <button class="btn-close" (click)="toggleAdmin()">√ó</button>
    </div>

    <div class="sidebar-content">
    
      <div *ngIf="!(authService.isLoggedIn$ | async)" class="login-section">
        <h3>üîí SECURITY CLEARANCE REQUIRED</h3>
        <p class="warning-text">Authorized Personnel Only</p>
    
        <div class="input-group">
          <label>Commander ID</label>
          <input [(ngModel)]="loginData.username" placeholder="Enter ID">
        </div>
        <div class="input-group">
          <label>Access Code</label>
          <input [(ngModel)]="loginData.password" type="password" placeholder="Enter Code">
        </div>
    
        <button (click)="doLogin()" class="btn-login">AUTHENTICATE</button>
      </div>
    
      <div *ngIf="authService.isLoggedIn$ | async">
        <button (click)="doLogout()" class="btn-logout">LOGOUT COMMANDER</button>
    
        <div class="panel-section deploy-section">
          <h3>Deploy New Unit</h3>
          <div class="form-grid">
            <div class="input-group">
              <label>Call Sign</label>
              <input [(ngModel)]="newDrone.callSign">
            </div>
            <div class="input-group">
              <label>Model Type</label>
              <input [(ngModel)]="newDrone.model">
            </div>
          </div>
          <button (click)="addDrone()" class="btn-deploy">DEPLOY UNIT</button>
        </div>
    
        <div class="panel-section list-section">
          <div class="drone-list">
            <div class="drone-card" *ngFor="let d of dbDrones">
              <span class="drone-callsign">{{ d.callSign }}</span>
              <button (click)="toggleSimulation(d)" class="btn-sim">{{ isSimulating(d.id) ? '‚èπ' : '‚ñ∂' }}</button>
              <button (click)="decommission(d.id)" class="btn-decommission">üóëÔ∏è</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="hud-overlay">
      <h1>SENTINEL GRID <span class="blink">LIVE</span></h1>
      <button (click)="toggleAdmin()" class="btn-hud-toggle">
        ‚öôÔ∏è MANAGE FLEET
      </button>
    </div>

    <div id="map"></div>
  </div>

</div>